@model DataLibary.Models.Coach

@{
    ViewBag.Title = "Coach";
    var language = "";
    Model.Languages.ForEach(l => language+= l +", ");
    try
    {
        language = language.Remove(language.Length - 2, 2);
    }
    catch { /*Ignored*/}
}
<br/>
<div clas="container">
    <h1 style="display: inline;">@Model.Name:</h1>
    <img class="profileimage img-responsive"src="https://www.timeshighereducation.com/sites/default/files/byline_photos/default-avatar.png" style="display: inline-block; height: 5em; width: 5em; margin-right: 2%;"/>

    <br/>
    <table class="table table-user-information" style="width: 100%">
        <tbody>
        @if (!string.IsNullOrEmpty(Model.Bio))
        {
            <tr>
                <td>
                    <strong>Bio: </strong>
                </td>
                <td>
                    @Model.Bio
                </td>
            </tr>
        }
        @if (!string.IsNullOrEmpty(Model.Timezone))
        {
            <tr>
                <td>
                    <strong>Timezone:</strong>
                </td>
                <td>
                    @Model.Timezone
                </td>
            </tr>

        }
        @if (!string.IsNullOrEmpty(Model.Availability))
        {
            <tr>
                <td>
                    <strong>Availability:</strong>
                </td>
                <td>
                    @Model.Availability
                </td>
            </tr>

        }
        @if (Model.Languages.Count != 0)
        {
            <tr>
                <td>
                    <strong>Languages:</strong>
                </td>
                <td>
                    @language
                </td>
            </tr>
        }
        @if (Model.Prerferences.Count != 0)
        {
            var preference = "";
            Model.Prerferences.ForEach(p => preference += p +". ");
            try
            {
                preference = preference.Remove(preference.Length - 2, 2);
            }
            catch
            {
                //ignored
            }
            <tr>
                <td><strong>Preferance:</strong></td>
                <td>@preference</td>
            </tr>
        }
        @if (Model.region != null)
        {
            <tr>
                <td><strong>Region:</strong></td>
                <td>@Model.region.ToString().ToUpper()</td>
            </tr>
        }
        @if (true /*ranking != null*/)
        {
            <tr>
                <td>
                    <strong>Rank:</strong>
                </td>
                <td>Undefined V</td>
            </tr>
        }
        @if (Model.Links.Count != 0)
        {

            <tr>
                <td>
                    <strong>Links:</strong>
                </td>
                <td>
                    @foreach (var link in Model.Links)
                    {
                        <a href="@link">@link, </a>
                    }
                </td>
            </tr>

        }
        </tbody>
    </table>


</div>
<br/>
<div class="container col-md-5">
    @if (Model.Roles.Count != 0)
    {

        <h3><strong>Roles</strong></h3>
        <table class="table table-striped table-bordered" style="width: auto;">

            <tbody>
            <tr>
                @foreach (var role in Model.Roles)
                {
                    <td>@role</td>
                }
            </tr>
            </tbody>
        </table>
    }

    @if (Model.ChampionIds.Count != 0)
    {
        <h3><strong>Champions</strong></h3>
        <table class="table table-striped" style="width: auto;">

            <tbody>
                @{
                    int stepsize = 3;
                    int x = 0;
                    int y = 0;
                    List<string> images = new List<string>();
                    List<string> champions = new List<string> {"Thresh", "Aatrox", "Thresh", "Aatrox", "Sivir", "Aatrox", "Sivir", "Lucian", "Gragas", "Singed", "Graves"};//Model.Champions.Split(',').Where(c => c.Length!= 0 && c.Length != 1).ToList()
                    champions = champions.Where(c => c.Length != 0 && c.Length != 1).ToList();
                    int total = champions.Count;
                }
                @for (int i = 0; i < champions.Count; i++)
                {
                    if (y == stepsize)
                    {
                        <tr>
                            <td>
                                @champions[i - 3]
                            </td>
                            <td>
                                <img src="@images[0]" class="img-responsive" width="50" height="50"/>
                            </td>
                            <td>
                                @champions[i - 2]
                            </td>
                            <td>
                                <img src="@images[1]" class="img-responsive" width="50" height="50"/>
                            </td>
                            <td>
                                @champions[i - 1]
                            </td>
                            <td>
                                <img src="@images[2]" class="img-responsive"width="50" height="50" />
                            </td>
                        </tr>
                        images= new List<string>();
                        y = 0;
                    }
                    var championurl = champions[i].Replace(" ", "").Replace("\'", "").ToLower();
                    try
                    {
                        var cha = championurl.ToCharArray();
                        cha[0] = cha[0].ToString().ToUpper().ToCharArray()[0];
                        championurl = string.Concat(cha);
                    }
                    catch
                    {
                    }
                    images.Add("http://ddragon.leagueoflegends.com/cdn/6.24.1/img/champion/" + championurl + ".png");
                    y++;
                    if (i == total-1)
                    {
                        if (y == 1)
                        {
                            <tr>
                                <td>
                                    @champions[i]
                                </td>
                                <td>
                                    <img src="@images[0]" class="img-responsive" width="50" height="50"/>
                                </td>
                            </tr>
                        }
                        else if (y == 2)
                        {
                            <tr>
                                <td>
                                    @champions[i]
                                </td>
                                <td>
                                    <img src="@images[1]" class="img-responsive" width="50" height="50"/>
                                </td>
                                <td>
                                    @champions[i - 1]
                                </td>
                                <td>
                                    <img src="@images[0]" class="img-responsive" width="50" height="50"/>
                                </td>
                            </tr>
                        }
                        else if (y == 3)
                        {
                            <tr>
                                <td>
                                    @champions[i]
                                </td>
                                <td>
                                    <img src="@images[2]" class="img-responsive" width="50" height="50"/>
                                </td>
                                <td>
                                    @champions[i - 1]
                                </td>
                                <td>
                                    <img src="@images[1]" class="img-responsive" width="50" height="50"/>
                                </td>
                                <td>
                                    @champions[i - 2]
                                </td>
                                <td>
                                    <img src="@images[0]" class="img-responsive" width="50" height="50"/>
                                </td>
                                
                            </tr>
                        }

                    }

                }
            </tbody>
        </table>
    }
</div>

@if (true /*something something calendar*/)
{
    <div class="container col-md-7">
        <h3><strong>Calendar</strong></h3>
        <img class="img-responsive" src="https://image.prntscr.com/image/19k62mJmQYqJ3u3x-X-aqQ.png" width="700" height="600"/>
    </div>
}
